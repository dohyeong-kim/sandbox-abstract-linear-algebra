<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="01-04-quotients-cokernel" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>몫과 코커널</title>
  <p>이 절에서는 몫과 코커널을 소개합니다.</p>
  <subsection xml:id="subsec-quotients">
    <title>몫</title>
    <p>
      <term>몫</term> 또는 <term>몫공간</term>의 개념은 동치관계라는 보다 일반적 개념의 특수한 경우입니다. 동치관계는 집합에 대해 적용되며 그 대상이 꼭 선형공간일 필요는 없습니다.<fn><p>동치관계에 대한 기초적 사실들은 부록 <xref ref="99-03-equivalence"/>을 참조.</p></fn>
    </p>
    <p>
      벡터공간 <m>V</m>에 부분공간 <m>W\subset V</m>가 주어진 경우 다음과 같은 이항관계를 생각해 봅시다.
      <men xml:id="eq-coset-relation">v \sim w \iff v - w \in W</men>
      
      이 관계식이 동치관계임을 쉽게 확인할 수 있습니다.
    </p>
    <proposition xml:id="prop-coset-relation-is-equivalence">
      <statement>
        <p>
          <xref ref="eq-coset-relation"/>은 동치관계이다.
        </p>
      </statement>
      <proof>
        <p>
          정의 <xref ref="def-equivalence-relation"/>에 따라 반사성, 대칭성, 추이성을 만족하는지 확인합시다.
          <ol>
            <li><em>반사성</em>: 모든 <m>v \in V</m>에 대해 <m>v - v = 0 \in W</m>이므로 <m>v \sim v</m>입니다.</li>
            <li><em>대칭성</em>: <m>v \sim w</m>이면 <m>v - w \in W</m>입니다. <m>w - v = -(v - w) \in W</m>이므로 <m>w \sim v</m>입니다. <m>W</m>의 원소가 덧셈에 대한 역원을 <m>W</m> 내에서 가진다는 사실을 사용했습니다.</li>
            <li><em>추이성</em>: <m>v \sim w</m>이고 <m>w \sim u</m>이면 <m>v - w \in W</m>이고 <m>w - u \in W</m>입니다. <m>(v - w) + (w - u) = v - u \in W</m>이므로 <m>v \sim u</m>입니다. <m>W</m>가 덧셈에 대해 닫혀 있다는 사실을 사용했습니다.</li>
          </ol>
        </p>
      </proof>
    </proposition>
    <definition xml:id="def-coset-quotient-space">
      <title>잉여류와 몫공간</title>
      <statement>
        <p>
          <m>V</m>를 체 <m>F</m> 위에서 정의된 벡터공간이라 하고, <m>W</m>를 <m>V</m>의 부분공간이라 하자. 임의의 <m>v \in V</m>에 대하여 <m>v</m>를 포함하는 <m>W</m>의 <term>잉여류</term>를 다음과 같이 정의한다:<aside><p>잉여류:coset</p></aside>
          <me>v + W = \{ v + w \mid w \in W \}</me>
          이러한 잉여류들의 집합을 <m>W</m>에 대한 <m>V</m>의 <term>몫공간</term>이라 하고 <m>V/W</m>로 표기한다. 즉, <m>V/W = \{ v + W \mid v \in V \}</m> 이다.<aside><p>몫공간:quotient space</p></aside>
        </p>
      </statement>
    </definition>

    <example xml:id="ex-coset-example">
      <title>잉여류의 기하학적 해석</title>
      <p>
      <m>V = \mathbb{R}^2</m>이고 <m>W = \{ (x, y) \mid y = 2x \}</m>라는 원점을 지나는 직선이라고 하자. 벡터 <m>v = (0, 1)</m>에 대한 잉여류 <m>v + W</m>는 원점을 지나는 직선 <m>W</m>를 <m>y</m>축 방향으로 1만큼 평행이동한 직선 <m>y = 2x + 1</m> 상의 모든 점들의 집합이 됩니다.
      </p>
    </example>
    
    <p>
      몫공간 <m>V/W</m>가 단순한 집합을 넘어 그 자체로 벡터공간이 되기 위해서는 덧셈과 스칼라 곱셈이 필요합니다.
    </p>
    
    <proposition xml:id="prop-quotient-space-operations">
      <title>몫공간의 연산</title>
      <statement>
      <p>
        몫공간 <m>V/W</m> 상의 벡터 덧셈과 스칼라 곱셈을 다음과 같이 정의할 때, 이 연산들은 대표원의 선택과 무관하게 잘 정의된다.
        <aside><p>대표원:representative</p></aside>
        <md>
          <mrow>(v_1 + W) + (v_2 + W) \amp = (v_1 + v_2) + W</mrow>
          <mrow> c(v + W) \amp = cv + W \quad \text{(단, $c \in F$)}</mrow>
        </md>
      </p>
      </statement>
      <proof>
      <p>
        연산이 잘 정의됨을 보이기 위해, <m>v_1 + W = v_1' + W</m> 이고 <m>v_2 + W = v_2' + W</m> 라고 하겠습니다. 이는 <m>v_1' - v_1 \in W</m> 이고 <m>v_2' - v_2 \in W</m> 임을 의미합니다.
        <ol>
        <li><em>덧셈에 대하여</em>: <m>(v_1' + v_2') - (v_1 + v_2) = (v_1' - v_1) + (v_2' - v_2)</m>. <m>W</m>는 부분공간이므로 덧셈에 대해 닫혀 있어 이 결과는 <m>W</m>에 속합니다. 따라서 <m>(v_1' + v_2') + W = (v_1 + v_2) + W</m> 입니다.</li>
        <li><em>스칼라 곱에 대하여</em>: <m>cv_1' - cv_1 = c(v_1' - v_1)</m>. <m>W</m>는 스칼라 곱에 닫혀 있으므로 이 결과 역시 <m>W</m>에 속합니다. 따라서 <m>cv_1' + W = cv_1 + W</m> 입니다.</li>
        </ol>
        그러므로 몫공간의 연산은 대표원의 선택에 의존하지 않습니다.
      </p>
      </proof>
    </proposition>
    <remark xml:id="rmk-well-defined">
      <p>
        분할 또는 동치류가 주어진 경우, 대표원에 의지하여 표현한 무언가가 대표원과 무관한 경우 해당 표현이 <term>잘 정의되었다</term>고 말합니다. <aside><p>잘 정의된:well-defined</p></aside>
      </p>
    </remark>

    <example xml:id="ex-coset-addition">
      <title>잉여류의 덧셈</title>
      <p>
      예제 <xref ref="ex-coset-example"/> 상황에서 <m>v_1 = (0, 1)</m>이고 <m>v_2 = (1, 0)</m>이라 합시다. 잉여류의 합은 <m>(v_1 + W) + (v_2 + W) = (1, 1) + W</m>가 됩니다. 기하학적으로 두 평행이동된 직선을 더하여 새로운 평행이동된 직선을 얻는 과정입니다.
      </p>
    </example>
    
    
    
    <theorem xml:id="thm-quotient-space-dimension">
      <title>몫공간의 차원</title>
      <statement>
      <p>
        <m>V</m>가 유한차원 벡터공간이고 <m>W</m>가 그 부분공간일 때, 다음이 성립한다:
        <me>\dim(V/W) = \dim(V) - \dim(W)</me>
      </p>
      </statement>
      <proof>
      <p>
        <m>\dim(W) = k</m>, <m>\dim(V) = n</m>이라 합시다. <m>W</m>의 기저를 <m>\{w_1, \dots, w_k\}</m>라 할 때, 기저 확장 정리(<xref ref="exercise-extension-of-linearly-independent-set"/>)에 의해 이를 <m>V</m>의 기저 <m>\{w_1, \dots, w_k, v_1, \dots, v_{n-k}\}</m>로 확장할 수 있습니다.
      </p>
      <p>
        집합 <m>B = \{v_1 + W, \dots, v_{n-k} + W\}</m>가 <m>V/W</m>의 기저가 됨을 주장합니다.
      </p>
      <p>
        <em>생성</em>: 임의의 잉여류 <m>x + W \in V/W</m>에 대해 <m>x \in V</m>이므로 <m>x = \sum_{i=1}^k a_i w_i + \sum_{j=1}^{n-k} b_j v_j</m>로 쓸 수 있습니다. 따라서
        <me>x + W = \left( \sum_{i=1}^k a_i w_i + \sum_{j=1}^{n-k} b_j v_j \right) + W = \sum_{j=1}^{n-k} b_j (v_j + W)</me>
        (첫 번째 항은 <m>W</m>에 흡수됨).
      </p>
      <p>
        <em>선형독립</em>: <m>\sum_{j=1}^{n-k} c_j (v_j + W) = 0_{V/W} = W</m> 라 가정합시다. 이는 <m>\left(\sum_{j=1}^{n-k} c_j v_j\right) + W = W</m> 임을 의미하며, 따라서 <m>\sum_{j=1}^{n-k} c_j v_j \in W</m> 입니다.
      </p>
      <p>
        <example>
          <p>
        즉, <m>\sum_{j=1}^{n-k} c_j v_j = \sum_{i=1}^k d_i w_i</m>를 만족하는 스칼라 <m>d_i</m>가 존재합니다. 이 식을 정리하면 <m>\sum_{j=1}^{n-k} c_j v_j - \sum_{i=1}^k d_i w_i = 0</m> 이 되는데, 확장된 기저의 선형 독립성에 의해 모든 <m>c_j = 0</m> 입니다.
          </p>
        </example>
      </p>
      <p>
        따라서 <m>B</m>는 <m>V/W</m>의 기저이며, 그 크기는 <m>n - k</m> 입니다.
      </p>
      </proof>
    </theorem>
    
    <example xml:id="ex-quotient-space-dimension">
      <title>몫공간의 차원 계산</title>
      <p>
      <m>\mathbb{R}^3</m>에서 평면 <m>W = \{ (x, y, z) \mid x+y+z=0 \}</m>를 생각해 봅시다. <m>\dim(\mathbb{R}^3) = 3</m>이고 <m>\dim(W) = 2</m>이므로, 몫공간 <m>\mathbb{R}^3/W</m>의 차원은 <m>3 - 2 = 1</m>입니다. 이상의 대수적 관찰을 직관적으로 표현하자면 3차원 공간을 특정 평면의 방향으로 압축하여 1차원 직선을 얻었다고 할 수 있습니다.
      </p>
    </example>

    <theorem xml:id="thm-rank-nullity">
      <title>선형변환의 기본정리</title>
      <statement>
      <p>
        <m>V</m>와 <m>W</m>가 체 <m>\mathbb{F}</m> 위의 유한차원 벡터공간이고 <m>T: V \to W</m>가 선형변환일 때, 다음이 성립한다:
        <me>\dim(\ker(T)) + \dim(\operatorname{im}(T)) = \dim(V)</me>
      </p>
      </statement>
      <proof>
      <p>
        <m>\ker(T)</m>의 기저를 <m>\{v_1, \dots, v_k\}</m>라 하고, 기저 확장 정리에 의해 이를 <m>V</m>의 기저 <m>\{v_1, \dots, v_k, w_1, \dots, w_{n-k}\}</m>로 확장합시다. 여기서 <m>\dim(V) = n</m>입니다.
      </p>
      <p>
        집합 <m>\{T(w_1), \dots, T(w_{n-k})\}</m>가 <m>\operatorname{im}(T)</m>의 기저가 됨을 보입시다.
      </p>
      <p>
        <em>생성</em>: 임의의 <m>y \in \operatorname{im}(T)</m>에 대해 <m>y = T(x)</m>인 <m>x \in V</m>가 존재합니다. <m>x = \sum_{i=1}^k a_i v_i + \sum_{j=1}^{n-k} b_j w_j</m>로 나타낼 수 있으므로, <m>T(x) = \sum_{j=1}^{n-k} b_j T(w_j)</m>입니다.
      </p>
      <p>
        <em>선형독립</em>: <m>\sum_{j=1}^{n-k} c_j T(w_j) = 0</m>이면 <m>T\left(\sum_{j=1}^{n-k} c_j w_j\right) = 0</m>이므로 <m>\sum_{j=1}^{n-k} c_j w_j \in \ker(T)</m>입니다. 따라서 <m>\sum_{j=1}^{n-k} c_j w_j = \sum_{i=1}^k d_i v_i</m>인 스칼라 <m>d_i</m>가 존재합니다. <m>V</m>의 기저 선형독립성에 의해 모든 <m>c_j = 0</m>입니다.
      </p>
      <p>
        그러므로 <m>\dim(\ker(T)) = k</m>이고 <m>\dim(\operatorname{im}(T)) = n - k</m>이므로, <m>\dim(\ker(T)) + \dim(\operatorname{im}(T)) = n = \dim(V)</m>입니다.
      </p>
      </proof>
    </theorem>
  </subsection>
  <subsection xml:id="subsec-cokernel">
    <title>코커널</title>
  <definition xml:id="def-cokernel">
    <title>코커널</title>
    <statement>
    <p>
      <m>T: V \to W</m>가 선형변환일 때, <m>T</m>의 <term>코커널</term>은 공역 <m>W</m>를 <m>T</m>의 치역으로 나눈 몫공간으로 정의되며 <m>\text{coker}(T)</m>로 표기합니다.
      <me>\text{coker}(T) = W / \text{im}(T)</me>
    </p>
    </statement>
  </definition>
  </subsection>

    <exercises xml:id="exercises-01-04">
      <exercise xml:id="exercise-partition-equivalence" >
        <title>분할과 동치관계</title>
        <p>
          집합 <m>X = \{a, b, c, d\}</m>에 대한 분할이 <m>\mathcal{P} = \{\{a, b\}, \{c\}, \{d\}\}</m>로 주어졌을 때, 이 분할이 유도하는 동치관계 <m>\sim</m>의 모든 순서쌍 <m>(x, y) \in X \times X</m>를 나열하시오.
        </p>
      </exercise>

      <exercise xml:id="exercise-non-equivalence-relation">
        <title>동치관계가 아닌 관계</title>
        <p>
          실수 집합 <m>\mathbb{R}</m> 상의 관계 <m>x \sim y \iff x \le y</m>가 주어졌다. 이 관계가 동치관계가 되지 못하는 이유를 설명하시오.
        </p>
      </exercise>

      <exercise xml:id="exercise-quotient-space-dimension-calculation">
        <title>몫공간의 차원</title>
        <p>
        체 <m>\mathbb{F}</m> 위에서 정의된 8차원 벡터공간 <m>V</m>와 그 3차원 부분공간 <m>W</m>가 있다. 몫공간 <m>V/W</m>의 차원을 구하시오.
        </p>
      </exercise>

      
      <exercise xml:id="exercise-matrix-similarity">
        <title>닮음과 동치관계</title>
        <definition xml:id="def-matrix-similarity">
          <title>행렬의 닮음</title>
          <statement>
          <p>
            <m>n \times n</m> 행렬의 공간 <m>M_{n \times n}(\mathbb{F})</m>에서, 어떤 가역행렬 <m>P</m>가 존재하여 <m>B = P^{-1}AP</m>를 만족할 때 <m>A \sim B</m>라 정의한다. 이를 <term>닮음</term>이라 한다.<aside><p>닮음:similarity</p></aside>
          </p>
          </statement>
        </definition>
        <p>
        정의 <xref ref="def-matrix-similarity"/>의 행렬의 닮음 관계가 동치관계임을 증명하시오.
        </p>
      </exercise>

      <exercise xml:id="exercise-intersection-subspace-equivalence">
        <title>부분공간의 교집합 위의 동치관계</title>
        <p>
          벡터공간 <m>V</m> 내의 두 부분공간 <m>W_1, W_2</m>가 주어졌다. <m>V</m> 상의 관계를 <m>v_1 \sim v_2 \iff v_1 - v_2 \in W_1 \cap W_2</m>로 정의할 때, 이것이 동치관계임을 증명하시오.
        </p>
      </exercise>

      <exercise xml:id="exercise-polynomial-derivative-equivalence">
        <title>다항식의 미분과 동치관계</title>
        <p>
          다항식 공간 <m>\mathbb{R}[x]_{\le n}</m>에서 <m>p(x) \sim q(x) \iff p'(x) = q'(x)</m>로 정의할 때, 이것이 동치관계임을 증명하고 임의의 다항식 <m>p(x)</m>의 동치류 <m>[p(x)]</m>를 집합 조건 제시법으로 명확히 묘사하시오.
        </p>
      </exercise>

      <exercise xml:id="exercise-quotient-space-upper-triangular">
        <title>상삼각행렬과 몫공간의 차원</title>
        <p>
        체 <m>\mathbb{F}</m> 성분을 갖는 <m>2 \times 2</m> 행렬 공간 <m>V = M_{2 \times 2}(\mathbb{F})</m>에서 상삼각행렬들의 부분공간을 <m>W</m>라 하자. 몫공간 <m>V/W</m>의 차원을 구하시오.
        <aside><p>상삼각행렬:upper triangular matrix</p></aside>
        </p>
      </exercise>

      <exercise xml:id="exercise-cokernel-basis">
        <title>코커널과 기저</title>
        <p>
        체 <m>\mathbb{F}</m> 상의 행렬 <m>A = \begin{pmatrix} 1 &amp; 1 \\ 1 &amp; 1 \end{pmatrix}</m> 로 정의되는 선형변환 <m>L_A: \mathbb{F}^2 \to \mathbb{F}^2</m> 의 커널을 <m>W</m>라 하자. 몫공간 <m>\mathbb{F}^2/W</m> 의 기저를 하나 찾으시오.
        </p>
      </exercise>
      <exercise xml:id="exercise-rank-nullity-for-matrix">
        <title>행렬에 관한 기본정리(랭크-널리티 정리)</title>
        <statement>
          <p>
            <m>A</m>가 <m>m \times n</m> 행렬이고 <m>L_A: \mathbb{F}^n \to \mathbb{F}^m</m>이 그에 대응하는 선형변환일 때, 다음을 증명하시오:
            <me>\dim(\ker(L_A)) + \dim(\operatorname{im}(L_A)) = n.</me>
          </p>
        </statement>
        
        
        
      </exercise>


      <exercise xml:id="exercise-matrix-equivalence-rank">
        <title>행렬의 동치와 계수</title>
        <p>
        <m>M_{m \times n}(F)</m>에서 두 행렬 <m>A, B</m>에 대해, 가역행렬인 <m>P \in M_{m \times m}(F)</m>와 <m>Q \in M_{n \times n}(F)</m>가 존재하여 <m>A = PBQ</m>를 만족할 때 <m>A \sim B</m>라 정의하자. 이 관계가 동치관계임을 증명하고, 두 행렬이 이 관계 하에서 동치일 필요충분조건은 두 행렬의 계수가 같음임을 증명하시오. (즉, 랭크는 이 동치관계의 완전한 불변량입니다.)
        </p>
      </exercise>

      <exercise xml:id="exercise-induced-map-quotient-space">
        <title>불변 부분공간과 유도된 사상</title>
        <definition xml:id="def-invariant-subspace">
          <statement>
            <p>
              <m>\mathbb{F}</m>상의 벡터공간 <m>V</m>와 그 부분공간 <m>W</m>가 주어졌을 때, 임의의 <m>v \in W</m>에 대하여 <m>T(v) \in W</m>가 성립하면, 이때 <m>W</m>를 <term><m>T</m>-불변 부분공간</term>이라고 합니다. <aside><p>불변 부분공간:invariant subspace</p></aside>
            </p>
          </statement>
        </definition>
        <p>
          체 <m>\mathbb{F}</m> 상의 벡터공간 <m>V</m>와 선형 연산자 <m>T\colon V\to V</m>가 주어졌다. <m>T</m>-불변 부분공간 <m>W\subset V</m>에 대하여, 사상 <m>\bar{T}: V/W \to V/W</m>를 <m>\bar{T}(v+W) = T(v)+W</m>로 정의하면 이 사상이 잘 정의된 선형변환임을 증명하시오.
        </p>
      </exercise>
    </exercises>
</section>